<!--
  This is the common "header" across all the pages on this site.
  All components necessary for the main pages of the modulo website are defined
  here.
-->
<script Configuration>
    // Adds a shortcut of quick-component="html,js,css", for example, for an
    // Template, Script, and Style component.
    modulo.register('processor', function quickComponent (modulo, def, value) {
        console.log('quickComponent processor')
        const name = def.name;
        if (!value.push) {
            value = value.split(','); // comma separated string
        }
        const prefix = modulo.config.component.quickPrefix;
        for (const [ ext, tagName ] of modulo.config.component.quickTypes) {
            if (value.includes(ext)) {
                def.Content = (def.Content || '') + `<${ tagName } -src="`;
                def.Content += `./${ name }/${ name }.${ ext }`;
                def.Content += `"></${ tagName }>`;
            }
        }
        console.log(def.Content)
    });
    modulo.config.component.DefLoaders.unshift('QuickComponent');
            console.log(modulo.config.component.DefLoaders)
    modulo.config.component.quickTypes = [
        [ 'html', 'Template' ],
        [ 'js', 'Script' ],
        [ 'json', 'StaticData' ],
        [ 'css', 'Style' ],
    ];
</script>

<!-- Load "layout" and "editor" component libraries, registering both under the
"x-" default prefix -->
<Library -src="./components/layout/"></Library>
<Library -src="./components/editor/"></Library>
